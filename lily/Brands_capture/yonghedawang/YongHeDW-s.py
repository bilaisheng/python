import urllib.request
import urllib.parse
import json
import requests
import json

# url = 'https://dicos.e.verystar.cn/api/store/getStoreList'
url ='http://www.yonghe.com.cn/index.php/Contact/shoplist'
values_1 =[
# '{"city":"北京","t":"1524131856175"}',
# '{"city":"天津","t":"1524131856175"}',
# '{"city":"保定","t":"1524131856175"}',
# '{"city":"衡水","t":"1524131856175"}',
# '{"city":"廊坊","t":"1524131856175"}',
# '{"city":"沧州","t":"1524131856175"}',
# '{"city":"秦皇岛","t":"1524131856175"}',
# '{"city":"邯郸","t":"1524131856175"}',
# '{"city":"承德","t":"1524131856175"}',
# '{"city":"张家口","t":"1524131856175"}',
# '{"city":"石家庄","t":"1524131856175"}',
# '{"city":"唐山","t":"1524131856175"}',
# '{"city":"邢台","t":"1524131856175"}',
# '{"city":"忻州","t":"1524131856175"}',
# '{"city":"长治","t":"1524131856175"}',
# '{"city":"大同","t":"1524131856175"}',
# '{"city":"吕梁","t":"1524131856175"}',
# '{"city":"晋城","t":"1524131856175"}',
# '{"city":"太原","t":"1524131856175"}',
# '{"city":"运城","t":"1524131856175"}',
# '{"city":"晋中","t":"1524131856175"}',
# '{"city":"临汾","t":"1524131856175"}',
# '{"city":"朔州","t":"1524131856175"}',
# '{"city":"阳泉","t":"1524131856175"}',
# '{"city":"兴安","t":"1524131856175"}',
# '{"city":"阿拉善","t":"1524131856175"}',
# '{"city":"赤峰","t":"1524131856175"}',
# '{"city":"呼伦贝尔","t":"1524131856175"}',
# '{"city":"包头","t":"1524131856175"}',
# '{"city":"巴彦淖尔","t":"1524131856175"}',
# '{"city":"乌兰察布","t":"1524131856175"}',
# '{"city":"鄂尔多斯","t":"1524131856175"}',
# '{"city":"锡林郭勒","t":"1524131856175"}',
# '{"city":"乌海","t":"1524131856175"}',
# '{"city":"呼和浩特","t":"1524131856175"}',
# '{"city":"通辽","t":"1524131856175"}',
# '{"city":"鞍山","t":"1524131856175"}',
# '{"city":"朝阳","t":"1524131856175"}',
# '{"city":"锦州","t":"1524131856175"}',
# '{"city":"本溪","t":"1524131856175"}',
# '{"city":"大连","t":"1524131856175"}',
# '{"city":"铁岭","t":"1524131856175"}',
# '{"city":"丹东","t":"1524131856175"}',
# '{"city":"营口","t":"1524131856175"}',
# '{"city":"盘锦","t":"1524131856175"}',
# '{"city":"辽阳","t":"1524131856175"}',
# '{"city":"沈阳","t":"1524131856175"}',
# '{"city":"抚顺","t":"1524131856175"}',
# '{"city":"阜新","t":"1524131856175"}',
# '{"city":"葫芦岛","t":"1524131856175"}',
# '{"city":"延边朝鲜族自治州","t":"1524131856175"}',
# '{"city":"白城","t":"1524131856175"}',
# '{"city":"白山","t":"1524131856175"}',
# '{"city":"长春","t":"1524131856175"}',
# '{"city":"松原","t":"1524131856175"}',
# '{"city":"辽源","t":"1524131856175"}',
# '{"city":"四平","t":"1524131856175"}',
# '{"city":"吉林","t":"1524131856175"}',
# '{"city":"通化","t":"1524131856175"}',
# '{"city":"哈尔滨","t":"1524131856175"}',
# '{"city":"绥化","t":"1524131856175"}',
# '{"city":"齐齐哈尔","t":"1524131856175"}',
# '{"city":"双鸭山","t":"1524131856175"}',
# '{"city":"黑河","t":"1524131856175"}',
# '{"city":"大庆","t":"1524131856175"}',
# '{"city":"佳木斯","t":"1524131856175"}',
# '{"city":"牡丹江","t":"1524131856175"}',
# '{"city":"鹤岗","t":"1524131856175"}',
# '{"city":"鸡西","t":"1524131856175"}',
# '{"city":"大兴安岭地","t":"1524131856175"}',
# '{"city":"伊春","t":"1524131856175"}',
# '{"city":"七台河","t":"1524131856175"}',
# '{"city":"上海","t":"1524131856175"}',
# '{"city":"南京","t":"1524131856175"}',
# '{"city":"扬州","t":"1524131856175"}',
# '{"city":"盐城","t":"1524131856175"}',
# '{"city":"南通","t":"1524131856175"}',
# '{"city":"苏州","t":"1524131856175"}',
# '{"city":"常州","t":"1524131856175"}',
# '{"city":"镇江","t":"1524131856175"}',
# '{"city":"泰州","t":"1524131856175"}',
# '{"city":"无锡","t":"1524131856175"}',
# '{"city":"连云港","t":"1524131856175"}',
# '{"city":"徐州","t":"1524131856175"}',
# '{"city":"淮安","t":"1524131856175"}',
# '{"city":"宿迁","t":"1524131856175"}',
# '{"city":"衢州","t":"1524131856175"}',
# '{"city":"宁波","t":"1524131856175"}',
# '{"city":"绍兴","t":"1524131856175"}',
# '{"city":"湖州","t":"1524131856175"}',
# '{"city":"温州","t":"1524131856175"}',
# '{"city":"杭州","t":"1524131856175"}',
# '{"city":"嘉兴","t":"1524131856175"}',
# '{"city":"台州","t":"1524131856175"}',
# '{"city":"金华","t":"1524131856175"}',
# '{"city":"丽水","t":"1524131856175"}',
# '{"city":"舟山","t":"1524131856175"}',
# '{"city":"安庆","t":"1524131856175"}',
# '{"city":"蚌埠","t":"1524131856175"}',
# '{"city":"马鞍山","t":"1524131856175"}',
# '{"city":"亳州","t":"1524131856175"}',
# '{"city":"合肥","t":"1524131856175"}',
# '{"city":"池州","t":"1524131856175"}',
# '{"city":"滁州","t":"1524131856175"}',
# '{"city":"宿州","t":"1524131856175"}',
# '{"city":"阜阳","t":"1524131856175"}',
# '{"city":"芜湖","t":"1524131856175"}',
# '{"city":"淮南","t":"1524131856175"}',
# '{"city":"宣城","t":"1524131856175"}',
# '{"city":"淮北","t":"1524131856175"}',
# '{"city":"黄山","t":"1524131856175"}',
# '{"city":"六安","t":"1524131856175"}',
# '{"city":"铜陵","t":"1524131856175"}',
# '{"city":"泉州","t":"1524131856175"}',
# '{"city":"福州","t":"1524131856175"}',
# '{"city":"漳州","t":"1524131856175"}',
# '{"city":"龙岩","t":"1524131856175"}',
# '{"city":"三明","t":"1524131856175"}',
# '{"city":"宁德","t":"1524131856175"}',
# '{"city":"南平","t":"1524131856175"}',
# '{"city":"莆田","t":"1524131856175"}',
# '{"city":"厦门","t":"1524131856175"}',
# '{"city":"吉安","t":"1524131856175"}',
# '{"city":"南昌","t":"1524131856175"}',
# '{"city":"赣州","t":"1524131856175"}',
# '{"city":"抚州","t":"1524131856175"}',
# '{"city":"九江","t":"1524131856175"}',
# '{"city":"上饶","t":"1524131856175"}',
# '{"city":"宜春","t":"1524131856175"}',
# '{"city":"新余","t":"1524131856175"}',
# '{"city":"鹰潭","t":"1524131856175"}',
# '{"city":"景德镇","t":"1524131856175"}',
# '{"city":"萍乡","t":"1524131856175"}',
# '{"city":"潍坊","t":"1524131856175"}',
# '{"city":"滨州","t":"1524131856175"}',
# '{"city":"淄博","t":"1524131856175"}',
# '{"city":"临沂","t":"1524131856175"}',
# '{"city":"菏泽","t":"1524131856175"}',
# '{"city":"烟台","t":"1524131856175"}',
# '{"city":"济南","t":"1524131856175"}',
# '{"city":"聊城","t":"1524131856175"}',
# '{"city":"德州","t":"1524131856175"}',
# '{"city":"泰安","t":"1524131856175"}',
# '{"city":"东营","t":"1524131856175"}',
# '{"city":"莱芜","t":"1524131856175"}',
# '{"city":"青岛","t":"1524131856175"}',
# '{"city":"济宁","t":"1524131856175"}',
# '{"city":"日照","t":"1524131856175"}',
# '{"city":"威海","t":"1524131856175"}',
# '{"city":"枣庄","t":"1524131856175"}',
# '{"city":"安阳","t":"1524131856175"}',
# '{"city":"平顶山","t":"1524131856175"}',
# '{"city":"驻马店","t":"1524131856175"}',
# '{"city":"焦作","t":"1524131856175"}',
# '{"city":"许昌","t":"1524131856175"}',
# '{"city":"新乡","t":"1524131856175"}',
# '{"city":"周口","t":"1524131856175"}',
# '{"city":"郑州","t":"1524131856175"}',
# '{"city":"南阳","t":"1524131856175"}',
# '{"city":"信阳","t":"1524131856175"}',
# '{"city":"鹤壁","t":"1524131856175"}',
# '{"city":"开封","t":"1524131856175"}',
# '{"city":"三门峡","t":"1524131856175"}',
# '{"city":"漯河","t":"1524131856175"}',
# '{"city":"洛阳","t":"1524131856175"}',
# '{"city":"商丘","t":"1524131856175"}',
# '{"city":"濮阳","t":"1524131856175"}',
# '{"city":"孝感","t":"1524131856175"}',
# '{"city":"恩施土家族苗族自治州","t":"1524131856175"}',
# '{"city":"黄冈","t":"1524131856175"}',
# '{"city":"十堰","t":"1524131856175"}',
# '{"city":"襄阳","t":"1524131856175"}',
# '{"city":"咸宁","t":"1524131856175"}',
# '{"city":"宜昌","t":"1524131856175"}',
# '{"city":"黄石","t":"1524131856175"}',
# '{"city":"鄂州","t":"1524131856175"}',
# '{"city":"荆州","t":"1524131856175"}',
# '{"city":"随州","t":"1524131856175"}',
# '{"city":"武汉","t":"1524131856175"}',
# '{"city":"荆门","t":"1524131856175"}',
# '{"city":"益阳","t":"1524131856175"}',
# '{"city":"郴州","t":"1524131856175"}',
# '{"city":"常德","t":"1524131856175"}',
# '{"city":"株洲","t":"1524131856175"}',
# '{"city":"衡阳","t":"1524131856175"}',
# '{"city":"长沙","t":"1524131856175"}',
# '{"city":"邵阳","t":"1524131856175"}',
# '{"city":"怀化","t":"1524131856175"}',
# '{"city":"张家界","t":"1524131856175"}',
# '{"city":"永州","t":"1524131856175"}',
# '{"city":"湘西土家族苗族自治州","t":"1524131856175"}',
# '{"city":"岳阳","t":"1524131856175"}',
# '{"city":"娄底","t":"1524131856175"}',
# '{"city":"湘潭","t":"1524131856175"}',
# '{"city":"惠州","t":"1524131856175"}',
# '{"city":"广州","t":"1524131856175"}',
# '{"city":"潮州","t":"1524131856175"}',
# '{"city":"阳江","t":"1524131856175"}',
# '{"city":"佛山","t":"1524131856175"}',
# '{"city":"东莞","t":"1524131856175"}',
# '{"city":"深圳","t":"1524131856175"}',
# '{"city":"肇庆","t":"1524131856175"}',
# '{"city":"茂名","t":"1524131856175"}',
# '{"city":"中山","t":"1524131856175"}',
# '{"city":"珠海","t":"1524131856175"}',
# '{"city":"江门","t":"1524131856175"}',
# '{"city":"梅州","t":"1524131856175"}',
# '{"city":"清远","t":"1524131856175"}',
# '{"city":"汕尾","t":"1524131856175"}',
# '{"city":"河源","t":"1524131856175"}',
# '{"city":"揭阳","t":"1524131856175"}',
# '{"city":"韶关","t":"1524131856175"}',
# '{"city":"湛江","t":"1524131856175"}',
# '{"city":"云浮","t":"1524131856175"}',
# '{"city":"汕头","t":"1524131856175"}',
# '{"city":"百色","t":"1524131856175"}',
# '{"city":"河池","t":"1524131856175"}',
# '{"city":"北海","t":"1524131856175"}',
# '{"city":"玉林","t":"1524131856175"}',
# '{"city":"南宁","t":"1524131856175"}',
# '{"city":"梧州","t":"1524131856175"}',
# '{"city":"崇左","t":"1524131856175"}',
# '{"city":"防城港","t":"1524131856175"}',
# '{"city":"贺州","t":"1524131856175"}',
# '{"city":"贵港","t":"1524131856175"}',
# '{"city":"桂林","t":"1524131856175"}',
# '{"city":"来宾","t":"1524131856175"}',
# '{"city":"钦州","t":"1524131856175"}',
# '{"city":"柳州","t":"1524131856175"}',
# '{"city":"三沙","t":"1524131856175"}',
# '{"city":"海口","t":"1524131856175"}',
# '{"city":"三亚","t":"1524131856175"}',
# '{"city":"瞻洲","t":"1524131856175"}',
# '{"city":"五指山","t":"1524131856175"}',
# '{"city":"文昌","t":"1524131856175"}',
# '{"city":"琼海","t":"1524131856175"}',
# '{"city":"万宁","t":"1524131856175"}',
# '{"city":"东方","t":"1524131856175"}',
# '{"city":"定安","t":"1524131856175"}',
# '{"city":"屯昌","t":"1524131856175"}',
# '{"city":"澄迈","t":"1524131856175"}',
# '{"city":"临高","t":"1524131856175"}',
# '{"city":"琼中黎族苗族自治州","t":"1524131856175"}',
# '{"city":"保亭黎族苗族自治州","t":"1524131856175"}',
# '{"city":"白沙黎族自治州","t":"1524131856175"}',
# '{"city":"昌江黎族自治州","t":"1524131856175"}',
# '{"city":"乐东黎族自治州","t":"1524131856175"}',
# '{"city":"陵水黎族自治州","t":"1524131856175"}',
# '{"city":"重庆","t":"1524131856175"}',
# '{"city":"成都","t":"1524131856175"}',
# '{"city":"遂宁","t":"1524131856175"}',
# '{"city":"绵阳","t":"1524131856175"}',
# '{"city":"资阳","t":"1524131856175"}',
# '{"city":"雅安","t":"1524131856175"}',
# '{"city":"甘孜藏族自治州","t":"1524131856175"}',
# '{"city":"巴中","t":"1524131856175"}',
# '{"city":"广元","t":"1524131856175"}',
# '{"city":"宜宾","t":"1524131856175"}',
# '{"city":"阿坝藏族羌族自治州","t":"1524131856175"}',
# '{"city":"眉山","t":"1524131856175"}',
# '{"city":"达州","t":"1524131856175"}',
# '{"city":"德阳","t":"1524131856175"}',
# '{"city":"乐山","t":"1524131856175"}',
# '{"city":"自贡","t":"1524131856175"}',
# '{"city":"广安","t":"1524131856175"}',
# '{"city":"泸州","t":"1524131856175"}',
# '{"city":"凉山彝族自治州","t":"1524131856175"}',
# '{"city":"南充","t":"1524131856175"}',
# '{"city":"内江","t":"1524131856175"}',
# '{"city":"攀枝花","t":"1524131856175"}',
# '{"city":"黔西南布依族苗族自治州","t":"1524131856175"}',
# '{"city":"安顺","t":"1524131856175"}',
# '{"city":"毕节","t":"1524131856175"}',
# '{"city":"遵义","t":"1524131856175"}',
# '{"city":"黔东南苗族侗族自治州","t":"1524131856175"}',
# '{"city":"铜仁","t":"1524131856175"}',
# '{"city":"黔南布依族苗族自治州","t":"1524131856175"}',
# '{"city":"贵阳","t":"1524131856175"}',
# '{"city":"六盘水","t":"1524131856175"}',
# '{"city":"昆明","t":"1524131856175"}',
# '{"city":"保山","t":"1524131856175"}',
# '{"city":"楚雄彝族自治州","t":"1524131856175"}',
# '{"city":"大理白族自治州","t":"1524131856175"}',
# '{"city":"文山壮族苗族自治州","t":"1524131856175"}',
# '{"city":"曲靖","t":"1524131856175"}',
# '{"city":"红河哈尼族彝族自治州","t":"1524131856175"}',
# '{"city":"临沧","t":"1524131856175"}',
# '{"city":"丽江","t":"1524131856175"}',
# '{"city":"玉溪","t":"1524131856175"}',
# '{"city":"普洱","t":"1524131856175"}',
# '{"city":"西双版纳傣族自治州","t":"1524131856175"}',
# '{"city":"怒江傈僳族自治州","t":"1524131856175"}',
# '{"city":"德宏傣族景颇族自治州","t":"1524131856175"}',
# '{"city":"昭通","t":"1524131856175"}',
# '{"city":"迪庆藏族自治州","t":"1524131856175"}',
# '{"city":"昌都地","t":"1524131856175"}',
# '{"city":"阿里地","t":"1524131856175"}',
# '{"city":"山南地","t":"1524131856175"}',
# '{"city":"拉萨","t":"1524131856175"}',
# '{"city":"林芝地","t":"1524131856175"}',
# '{"city":"那曲地","t":"1524131856175"}',
# '{"city":"日喀则地","t":"1524131856175"}',
# '{"city":"安康","t":"1524131856175"}',
# '{"city":"渭南","t":"1524131856175"}',
# '{"city":"宝鸡","t":"1524131856175"}',
# '{"city":"咸阳","t":"1524131856175"}',
# '{"city":"汉中","t":"1524131856175"}',
# '{"city":"榆林","t":"1524131856175"}',
# '{"city":"西安","t":"1524131856175"}',
# '{"city":"延安","t":"1524131856175"}',
# '{"city":"商洛","t":"1524131856175"}',
# '{"city":"铜川","t":"1524131856175"}',
# '{"city":"白银","t":"1524131856175"}',
# '{"city":"陇南","t":"1524131856175"}',
# '{"city":"定西","t":"1524131856175"}',
# '{"city":"酒泉","t":"1524131856175"}',
# '{"city":"天水","t":"1524131856175"}',
# '{"city":"张掖","t":"1524131856175"}',
# '{"city":"临夏回族自治州","t":"1524131856175"}',
# '{"city":"甘南藏族自治州","t":"1524131856175"}',
# '{"city":"庆阳","t":"1524131856175"}',
# '{"city":"平凉","t":"1524131856175"}',
# '{"city":"嘉峪关","t":"1524131856175"}',
# '{"city":"金昌","t":"1524131856175"}',
# '{"city":"兰州","t":"1524131856175"}',
# '{"city":"武威","t":"1524131856175"}',
# '{"city":"西宁","t":"1524131856175"}',
# '{"city":"海西蒙古族藏族自治州","t":"1524131856175"}',
# '{"city":"海东","t":"1524131856175"}',
# '{"city":"海北藏族自治州","t":"1524131856175"}',
# '{"city":"黄南藏族自治州","t":"1524131856175"}',
# '{"city":"海南藏族自治州","t":"1524131856175"}',
# '{"city":"果洛藏族自治州","t":"1524131856175"}',
# '{"city":"玉树藏族自治州","t":"1524131856175"}',
# '{"city":"固原","t":"1524131856175"}',
# '{"city":"石嘴山","t":"1524131856175"}',
# '{"city":"银川","t":"1524131856175"}',
# '{"city":"吴忠","t":"1524131856175"}',
# '{"city":"中卫","t":"1524131856175"}',
# '{"city":"阿克苏地","t":"1524131856175"}',
# '{"city":"新疆维吾尔自治州区直辖县级行政区","t":"1524131856175"}',
# '{"city":"阿勒泰地","t":"1524131856175"}',
# '{"city":"克孜勒苏柯尔克孜自治州","t":"1524131856175"}',
# '{"city":"克拉玛依","t":"1524131856175"}',
# '{"city":"博尔塔拉蒙古自治州","t":"1524131856175"}',
# '{"city":"昌吉回族自治州","t":"1524131856175"}',
# '{"city":"塔城地","t":"1524131856175"}',
# '{"city":"哈密地","t":"1524131856175"}',
# '{"city":"巴音郭楞蒙古自治州","t":"1524131856175"}',
# '{"city":"和田地","t":"1524131856175"}',
# '{"city":"伊犁哈萨克自治州","t":"1524131856175"}',
# '{"city":"喀什地","t":"1524131856175"}',
# '{"city":"吐鲁番地","t":"1524131856175"}',
# '{"city":"乌鲁木齐","t":"1524131856175"}'
'{"city":"延边朝鲜族自治州","t":"1524131856175"}',
'{"city":"恩施土家族苗族自治州","t":"1524131856175"}',
'{"city":"湘西土家族苗族自治州","t":"1524131856175"}',
'{"city":"琼中黎族苗族自治州","t":"1524131856175"}',
'{"city":"保亭黎族苗族自治州","t":"1524131856175"}',
'{"city":"白沙黎族自治州","t":"1524131856175"}',
'{"city":"昌江黎族自治州","t":"1524131856175"}',
'{"city":"乐东黎族自治州","t":"1524131856175"}',
'{"city":"陵水黎族自治州","t":"1524131856175"}',
'{"city":"甘孜藏族自治州","t":"1524131856175"}',
'{"city":"阿坝藏族羌族自治州","t":"1524131856175"}',
'{"city":"凉山彝族自治州","t":"1524131856175"}',
'{"city":"黔西南布依族苗族自治州","t":"1524131856175"}',
'{"city":"黔东南苗族侗族自治州","t":"1524131856175"}',
'{"city":"黔南布依族苗族自治州","t":"1524131856175"}',
'{"city":"楚雄彝族自治州","t":"1524131856175"}',
'{"city":"大理白族自治州","t":"1524131856175"}',
'{"city":"文山壮族苗族自治州","t":"1524131856175"}',
'{"city":"红河哈尼族彝族自治州","t":"1524131856175"}',
'{"city":"西双版纳傣族自治州","t":"1524131856175"}',
'{"city":"怒江傈僳族自治州","t":"1524131856175"}',
'{"city":"德宏傣族景颇族自治州","t":"1524131856175"}',
'{"city":"迪庆藏族自治州","t":"1524131856175"}',
'{"city":"临夏回族自治州","t":"1524131856175"}',
'{"city":"甘南藏族自治州","t":"1524131856175"}',
'{"city":"海西蒙古族藏族自治州","t":"1524131856175"}',
'{"city":"海北藏族自治州","t":"1524131856175"}',
'{"city":"黄南藏族自治州","t":"1524131856175"}',
'{"city":"海南藏族自治州","t":"1524131856175"}',
'{"city":"果洛藏族自治州","t":"1524131856175"}',
'{"city":"玉树藏族自治州","t":"1524131856175"}',
'{"city":"新疆维吾尔自治州区直辖县级行政区","t":"1524131856175"}',
'{"city":"克孜勒苏柯尔克孜自治州","t":"1524131856175"}',
'{"city":"博尔塔拉蒙古自治州","t":"1524131856175"}',
'{"city":"昌吉回族自治州","t":"1524131856175"}',
'{"city":"巴音郭楞蒙古自治州","t":"1524131856175"}',
'{"city":"伊犁哈萨克自治州","t":"1524131856175"}',

]
f = open('yonghe-1.csv', "w+", encoding="utf-8")
for p in values_1:
    p1 = json.loads(p)

    print(p1)
    store = urllib.parse.urlencode(json.loads(p)).encode('utf-8')
    request1 = urllib.request.Request(url, store)
    # print(request1)
    html1 = urllib.request.urlopen(request1).read()
    stores =json.loads(html1)
    # print(type(html1))
    print(stores)
    if stores:
        for store in stores:
            print(store)

            for k, v in store.items():
                # print(k,v)
                f.write(str(v))
                f.write(',')
            f.write('\n')
f.close()